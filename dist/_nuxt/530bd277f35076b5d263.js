(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{509:function(e,t,l){var content=l(550);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(15).default)("41ffb52f",content,!0,{sourceMap:!1})},549:function(e,t,l){"use strict";var r=l(509);l.n(r).a},550:function(e,t,l){(t=l(14)(!1)).push([e.i,".add_iamge[data-v-415baa7a]{position:relative;cursor:pointer}.add_iamge i[data-v-415baa7a]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}",""]),e.exports=t},595:function(e,t,l){"use strict";l.r(t);l(23),l(33);var r=l(6),o={name:"new",layout:"dashboard",middleware:"admin",fetch:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.store,t.next=3,l.dispatch("multimedia/fetch");case 3:return t.next=5,l.dispatch("categories/fetch");case 5:return t.next=7,l.dispatch("brands/fetch");case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{valid:!0,imageUpladForm:!0,name:"",imageName:"",order:"",dialog:!1,uploadDialog:!1,selectedImages:[],color:"",selectedBrand:"",nameRules:[function(e){return!!e||"Field is required"}],files:[],fileRules:[function(e){return!!e||"File is required"},function(e){return!!e&&e.size<5e5||"File should be les then 500 KB"}],parentCategory:0}},methods:{removeImage:function(e,i){this.$delete(this.selectedImages,i)},selectImage:function(e,t){this.dialog=!1,this.selectedImages.push(t)},changeFunc:function(){console.log(this.files)},uploadImage:function(){var e=this;this.uploadDialog=!1;var data=new FormData;data.append("name",this.imageName),data.append("image",this.files),this.$axios.$post("http://localhost:8000/api/multimedia/upload",data).then((function(t){e.files=[],e.$store.dispatch("multimedia/fetch")})).catch((function(e){console.log(e)}))},addCategory:function(){var e=this;this.$store.dispatch("categories/addCategory",[this.name,this.order,this.selectedImages,this.color,this.selectedBrand,this.parentCategory]).then((function(t){e.$router.push("/dashboard/categories")}))}},computed:{images:function(){return this.$store.getters["multimedia/images"]},categories:function(){return this.$store.getters["categories/categories"]},brands:function(){return this.$store.getters["brands/brands"]}}},n=(l(549),l(22)),c=l(25),d=l.n(c),m=l(70),v=l(118),f=l(187),h=l(84),_=l(465),x=l(581),y=l(482),C=l(500),k=l(528),w=l(466),V=l(490),I=l(100),F=l(160),S=l(19),$=l(186),R=l(470),j=l(471),B=l(58),D=l(201),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-container",[l("v-row",{attrs:{justify:"center"}},[l("v-col",{attrs:{cols:"6"}},[l("v-toolbar-title",{staticStyle:{display:"flex","justify-content":"space-between"}},[e._v("\n        Add new brands\n      ")]),e._v(" "),l("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[l("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Name",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),l("v-row",[l("v-col",{attrs:{cols:"6"}},[l("v-autocomplete",{attrs:{items:e.categories,label:"Parent Category","item-text":"name","item-value":"id"},scopedSlots:e._u([{key:"selection",fn:function(t){return[l("v-list-item-content",[l("v-list-item-title",[e._v("\n                    "+e._s(t.item.name)+"\n                  ")])],1)]}},{key:"item",fn:function(t){return[l("v-list-item-content",[l("v-list-item-title",[e._v(e._s(t.name))])],1)]}}]),model:{value:e.parentCategory,callback:function(t){e.parentCategory=t},expression:"parentCategory"}})],1),e._v(" "),l("v-col",{attrs:{cols:"6"}},[l("v-autocomplete",{attrs:{items:e.brands,label:"Brand","item-text":"name","item-value":"id"},scopedSlots:e._u([{key:"selection",fn:function(t){return[l("v-list-item-content",[l("v-list-item-title",[e._v("\n                    "+e._s(t.item.name)+"\n                  ")])],1)]}},{key:"item",fn:function(t){return[l("v-list-item-content",[l("v-list-item-title",[e._v("\n                    "+e._s(t.item.name)+"\n                  ")])],1)]}}]),model:{value:e.selectedBrand,callback:function(t){e.selectedBrand=t},expression:"selectedBrand"}})],1)],1),e._v(" "),l("v-col",{staticClass:"pl-0",attrs:{cols:"5"}},[l("v-color-picker",{model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),l("v-col",{staticClass:"pl-0",attrs:{cols:"5"}},[l("v-text-field",{attrs:{type:"number",counter:10,rules:e.nameRules,label:"Order",required:""},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})],1),e._v(" "),l("v-row",[e._l(e.selectedImages,(function(image,i){return l("v-col",{key:i,staticClass:" d-flex child-flex",attrs:{cols:"3"}},[l("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hover;return[l("v-card",{staticClass:"d-flex"},[l("v-img",{staticClass:"grey lighten-2",attrs:{src:image,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[l("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[l("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[e._v(" "),l("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"hover"}],staticClass:"align-self-center",staticStyle:{position:"relative",height:"100%"}},[l("v-btn",{staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},attrs:{icon:"",fab:""},on:{click:function(t){return e.removeImage(t,i)}}},[l("v-icon",{attrs:{size:"50",color:"error"}},[e._v("\n                        mdi-delete\n                      ")])],1)],1)])],1)]}}],null,!0)})],1)})),e._v(" "),l("v-col",{staticClass:"pl-0",attrs:{cols:"3"}},[l("v-card",{staticClass:"mx-auto add_iamge",attrs:{"min-height":"200"},on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[l("v-icon",{attrs:{size:"40"}},[e._v("mdi-plus")])],1)],1)],2),e._v(" "),l("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.addCategory}},[e._v("Save")])],1)],1)],1),e._v(" "),l("v-dialog",{attrs:{"max-width":"996"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[l("v-card",[l("v-card-title",{staticClass:"headline",staticStyle:{display:"flex","justify-content":"space-between"}},[e._v("Choose image "),l("v-btn",{attrs:{small:"",dark:"",color:"purple"},on:{click:function(t){t.stopPropagation(),e.uploadDialog=!0}}},[e._v("Add new image")])],1),e._v(" "),l("v-container",{attrs:{fluid:""}},[l("v-row",e._l(e.images,(function(image,i){return l("v-col",{key:i,staticClass:"d-flex child-flex",attrs:{cols:"3"}},[l("v-card",{staticClass:"d-flex",attrs:{flat:"",tile:"","data-url":image.path},on:{click:function(t){return e.selectImage(t,image.path)}}},[l("v-img",{staticClass:"grey lighten-2",attrs:{src:image.path,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[l("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[l("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1)],1)})),1)],1),e._v(" "),l("v-card-actions",[l("v-spacer"),e._v(" "),l("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")])],1)],1)],1),e._v(" "),l("v-dialog",{attrs:{"max-width":"400"},model:{value:e.uploadDialog,callback:function(t){e.uploadDialog=t},expression:"uploadDialog"}},[l("v-card",[l("v-card-title",{staticClass:"headline",staticStyle:{display:"flex","justify-content":"space-between"}},[e._v("Choose image")]),e._v(" "),l("v-container",{attrs:{fluid:""}},[l("v-form",{model:{value:e.imageUpladForm,callback:function(t){e.imageUpladForm=t},expression:"imageUpladForm"}},[l("v-text-field",{attrs:{rules:e.nameRules,label:"Name",required:""},model:{value:e.imageName,callback:function(t){e.imageName=t},expression:"imageName"}}),e._v(" "),l("v-file-input",{attrs:{rules:e.fileRules,label:"Choose Image",accept:"image/*"},on:{change:e.changeFunc},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)],1),e._v(" "),l("v-card-actions",[l("v-spacer"),e._v(" "),l("v-btn",{attrs:{disabled:!e.imageUpladForm,color:"green darken-1",text:""},on:{click:e.uploadImage}},[e._v("Upload")])],1)],1)],1)],1)}),[],!1,null,"415baa7a",null);t.default=component.exports;d()(component,{VAutocomplete:m.a,VBtn:v.a,VCard:f.a,VCardActions:h.a,VCardTitle:h.c,VCol:_.a,VColorPicker:x.a,VContainer:y.a,VDialog:C.a,VFileInput:k.a,VForm:w.a,VHover:V.a,VIcon:I.a,VImg:F.a,VListItemContent:S.a,VListItemTitle:S.c,VProgressCircular:$.a,VRow:R.a,VSpacer:j.a,VTextField:B.a,VToolbarTitle:D.a})}}]);