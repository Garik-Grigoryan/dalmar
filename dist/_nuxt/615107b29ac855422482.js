(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{512:function(e,t,n){var content=n(553);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("6054218a",content,!0,{sourceMap:!1})},552:function(e,t,n){"use strict";var r=n(512);n.n(r).a},553:function(e,t,n){(t=n(14)(!1)).push([e.i,".add_iamge[data-v-0eb0492c]{position:relative;cursor:pointer}.add_iamge i[data-v-0eb0492c]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}",""]),e.exports=t},598:function(e,t,n){"use strict";n.r(t);n(33);var r=n(6),l={name:"new",layout:"dashboard",middleware:"admin",fetch:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,t.next=3,n.dispatch("multimedia/fetch");case 3:return t.next=5,n.dispatch("categories/fetch");case 5:return t.next=7,n.dispatch("brands/fetch");case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{valid:!0,imageUpladForm:!0,name_en:"",name_ru:"",name_am:"",imageName:"",order:"",dialog:!1,uploadDialog:!1,selectedImages:[],color:"",selectedBrand:"",nameRules:[function(e){return!!e||"Field is required"}],files:[],fileRules:[function(e){return!!e||"File is required"},function(e){return!!e&&e.size<5e5||"File should be les then 500 KB"}],parentCategory:0}},methods:{removeImage:function(e,i){this.$delete(this.selectedImages,i)},selectImage:function(e,t){this.dialog=!1,this.selectedImages.push(t)},changeFunc:function(){console.log(this.files)},uploadImage:function(){var e=this;this.uploadDialog=!1;var data=new FormData;data.append("name",this.imageName),data.append("image",this.files),this.$axios.$post("http://localhost:8000/api/multimedia/upload",data).then((function(t){e.files=[],e.$store.dispatch("multimedia/fetch")})).catch((function(e){console.log(e)}))},addCategory:function(){var e=this;this.$store.dispatch("categories/addCategory",[this.name_en,this.name_ru,this.name_am,this.order,this.selectedImages,this.color,this.selectedBrand,this.parentCategory]).then((function(t){e.$router.push("/dashboard/categories")}))}},computed:{images:function(){return this.$store.getters["multimedia/images"]},categories:function(){return this.$store.getters["categories/categories"]},brands:function(){return this.$store.getters["brands/brands"]}}},o=(n(552),n(22)),c=n(25),d=n.n(c),m=n(70),v=n(119),f=n(188),h=n(84),_=n(468),x=n(584),y=n(485),k=n(503),C=n(531),w=n(469),V=n(493),I=n(100),F=n(161),S=n(19),R=n(187),N=n(473),$=n(474),j=n(58),B=n(202),component=Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("v-toolbar-title",{staticStyle:{display:"flex","justify-content":"space-between"}},[e._v("\n        Add new category\n      ")]),e._v(" "),n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Name (eng)",required:""},model:{value:e.name_en,callback:function(t){e.name_en=t},expression:"name_en"}}),e._v(" "),n("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Name (rus)",required:""},model:{value:e.name_ru,callback:function(t){e.name_ru=t},expression:"name_ru"}}),e._v(" "),n("v-text-field",{attrs:{counter:10,rules:e.nameRules,label:"Name (am)",required:""},model:{value:e.name_am,callback:function(t){e.name_am=t},expression:"name_am"}}),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-autocomplete",{attrs:{items:e.categories,label:"Parent Category","item-text":"name","item-value":"id"},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._v("\n                    "+e._s(t.item.name_en)+"\n                  ")])],1)]}},{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.name_en))])],1)]}}]),model:{value:e.parentCategory,callback:function(t){e.parentCategory=t},expression:"parentCategory"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-autocomplete",{attrs:{items:e.brands.brands,label:"Brand","item-text":"name","item-value":"id"},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._v("\n                    "+e._s(t.item.name)+"\n                  ")])],1)]}},{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",[e._v("\n                    "+e._s(t.item.name)+"\n                  ")])],1)]}}]),model:{value:e.selectedBrand,callback:function(t){e.selectedBrand=t},expression:"selectedBrand"}})],1)],1),e._v(" "),n("v-col",{staticClass:"pl-0",attrs:{cols:"5"}},[n("v-color-picker",{model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1),e._v(" "),n("v-col",{staticClass:"pl-0",attrs:{cols:"5"}},[n("v-text-field",{attrs:{type:"number",counter:10,rules:e.nameRules,label:"Order",required:""},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})],1),e._v(" "),n("v-row",[e._l(e.selectedImages,(function(image,i){return n("v-col",{key:i,staticClass:" d-flex child-flex",attrs:{cols:"3"}},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hover;return[n("v-card",{staticClass:"d-flex"},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:image,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:r,expression:"hover"}],staticClass:"align-self-center",staticStyle:{position:"relative",height:"100%"}},[n("v-btn",{staticStyle:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},attrs:{icon:"",fab:""},on:{click:function(t){return e.removeImage(t,i)}}},[n("v-icon",{attrs:{size:"50",color:"error"}},[e._v("\n                        mdi-delete\n                      ")])],1)],1)])],1)]}}],null,!0)})],1)})),e._v(" "),n("v-col",{staticClass:"pl-0",attrs:{cols:"3"}},[n("v-card",{staticClass:"mx-auto add_iamge",attrs:{"min-height":"200"},on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[n("v-icon",{attrs:{size:"40"}},[e._v("mdi-plus")])],1)],1)],2),e._v(" "),n("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.addCategory}},[e._v("Save")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"996"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline",staticStyle:{display:"flex","justify-content":"space-between"}},[e._v("Choose image "),n("v-btn",{attrs:{small:"",dark:"",color:"purple"},on:{click:function(t){t.stopPropagation(),e.uploadDialog=!0}}},[e._v("Add new image")])],1),e._v(" "),n("v-container",{attrs:{fluid:""}},[n("v-row",e._l(e.images,(function(image,i){return n("v-col",{key:i,staticClass:"d-flex child-flex",attrs:{cols:"3"}},[n("v-card",{staticClass:"d-flex",attrs:{flat:"",tile:"","data-url":image.path},on:{click:function(t){return e.selectImage(t,image.path)}}},[n("v-img",{staticClass:"grey lighten-2",attrs:{src:image.path,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1)],1)})),1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("close")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{"max-width":"400"},model:{value:e.uploadDialog,callback:function(t){e.uploadDialog=t},expression:"uploadDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline",staticStyle:{display:"flex","justify-content":"space-between"}},[e._v("Choose image")]),e._v(" "),n("v-container",{attrs:{fluid:""}},[n("v-form",{model:{value:e.imageUpladForm,callback:function(t){e.imageUpladForm=t},expression:"imageUpladForm"}},[n("v-text-field",{attrs:{rules:e.nameRules,label:"Name",required:""},model:{value:e.imageName,callback:function(t){e.imageName=t},expression:"imageName"}}),e._v(" "),n("v-file-input",{attrs:{rules:e.fileRules,label:"Choose Image",accept:"image/*"},on:{change:e.changeFunc},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{disabled:!e.imageUpladForm,color:"green darken-1",text:""},on:{click:e.uploadImage}},[e._v("Upload")])],1)],1)],1)],1)}),[],!1,null,"0eb0492c",null);t.default=component.exports;d()(component,{VAutocomplete:m.a,VBtn:v.a,VCard:f.a,VCardActions:h.a,VCardTitle:h.c,VCol:_.a,VColorPicker:x.a,VContainer:y.a,VDialog:k.a,VFileInput:C.a,VForm:w.a,VHover:V.a,VIcon:I.a,VImg:F.a,VListItemContent:S.a,VListItemTitle:S.c,VProgressCircular:R.a,VRow:N.a,VSpacer:$.a,VTextField:j.a,VToolbarTitle:B.a})}}]);