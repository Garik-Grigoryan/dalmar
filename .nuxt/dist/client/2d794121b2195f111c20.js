(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{591:function(e,t,r){"use strict";r.r(t);r(33);var n=r(6),o=(r(530),{fetch:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,t.next=3,r.dispatch("brands/fetch");case 3:return t.next=5,r.dispatch("menus/fetch");case 5:case"end":return t.stop()}}),t)})))()},name:"Wishlist",data:function(){return{headers:[{text:"Image",value:"image",sortable:!1,align:"start"},{text:"Name",value:"name",sortable:!1,align:"center"},{text:"Size",value:"size",sortable:!1,align:"center"},{text:"Color",value:"color",sortable:!1,align:"center"},{text:"Count",value:"count",sortable:!1,align:"center"},{text:"Price",value:"price",sortable:!1,align:"center"},{text:"Add to cart",value:"addToCart",sortable:!1,align:"center"},{text:"Remove",value:"remove",sortable:!1,align:"center"}],desserts:[]}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,store.dispatch("wishListAndCart/fetch");case 2:if(!e.user){t.next=7;break}return t.next=5,store.dispatch("wishListAndCart/getWishListAndCartData",[e.user.id]);case 5:t.next=9;break;case 7:return t.next=9,store.dispatch("wishListAndCart/getWishListAndCartData",[0]);case 9:e.wishListData.forEach((function(t){"ru"==e.$i18n.locale?e.desserts.push({image:JSON.parse(t.product.images)[0],name:t.product.nam_rue,size:void 0!==t.size[0]?t.size[0]:"",color:void 0!==t.color[0]?t.color[0]:"",count:t.count,price:t.product.price,addToCart:t.product.id,remove:"mdi-delete"}):"am"==e.$i18n.locale?e.desserts.push({image:JSON.parse(t.product.images)[0],name:t.product.name_am,size:void 0!==t.size[0]?t.size[0]:"",color:void 0!==t.color[0]?t.color[0]:"",count:t.count,price:t.product.price,addToCart:t.product.id,remove:"mdi-delete"}):"en"==e.$i18n.locale&&e.desserts.push({image:JSON.parse(t.product.images)[0],name:t.product.name_en,size:void 0!==t.size[0]?t.size[0]:"",color:void 0!==t.color[0]?t.color[0]:"",count:t.count,price:t.product.price,addToCart:t.product.id,remove:"mdi-delete"})}));case 10:case"end":return t.stop()}}),t)})))()},methods:{addTocart:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),n=0,t.user&&(n=t.user.id),r.next=5,t.$store.dispatch("wishListAndCart/setCArt",[e.addToCart,n,e.color,e.size,e.count]);case 5:case"end":return r.stop()}}),r)})))()},cahngeCount:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.desserts.indexOf(e),o=0,t.user&&(o=t.user.id),t.$store.dispatch("wishListAndCart/updateFromWhishList",[n,o,e.count]).then((function(){}));case 4:case"end":return r.stop()}}),r)})))()},deleteItem:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.desserts.indexOf(e),o=0,t.user&&(o=t.user.id),t.desserts.splice(n,1),r.next=6,t.$store.dispatch("wishListAndCart/removeFromWhishList",[n,o]).then((function(){}));case 6:case"end":return r.stop()}}),r)})))()}},computed:{wishListData:function(){return this.$store.getters["wishListAndCart/wishListData"]}}}),c=r(22),d=r(25),l=r.n(d),m=r(188),h=r(468),f=r(485),v=r(582),x=r(100),w=r(161),C=r(473),k=r(58),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"hide-default-footer":""},scopedSlots:e._u([{key:"item.image",fn:function(e){var t=e.item;return[r("v-img",{attrs:{src:t.image,contain:!0,width:"100",height:"100"}})]}},{key:"item.count",fn:function(t){var n=t.item;return[r("v-text-field",{staticStyle:{"max-width":"60px",margin:"0 auto !important","text-align":"center"},attrs:{type:"number",placeholder:"0",min:"1"},on:{change:function(t){return e.cahngeCount(n)}},model:{value:n.count,callback:function(t){e.$set(n,"count",t)},expression:"item.count"}})]}},{key:"item.color",fn:function(e){var t=e.item;return[r("v-card",{staticClass:"d-flex text-center align-center mx-3",staticStyle:{margin:"0 auto !important"},attrs:{color:t.color.toLowerCase(),dark:"",height:"30",width:"30"}})]}},{key:"item.addToCart",fn:function(t){var n=t.item;return[r("v-icon",{on:{click:function(t){return t.stopPropagation(),e.addTocart(n)}}},[e._v("mdi-cart-outline")])]}},{key:"item.remove",fn:function(t){var n=t.item;return[r("v-icon",{on:{click:function(t){return e.deleteItem(n)}}},[e._v("mdi-delete")])]}}])})],1)],1)],1)}),[],!1,null,"4a8513e0",null);t.default=component.exports;l()(component,{VCard:m.a,VCol:h.a,VContainer:f.a,VDataTable:v.a,VIcon:x.a,VImg:w.a,VRow:C.a,VTextField:k.a})}}]);